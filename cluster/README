
#
#
#

1. Connect to a node in shard 1 replica set
mongo --host m1.shard1.mongocluster --port 10011

2. initial the replica set:
rs.initiate()

3. add the other 2 nodes to the replica set 
rs.add("m2.shard1.mongocluster:10012")
rs.add("m3.shard1.mongocluster:10013")

4. check status to make sure it shows all 3 nodes
May need to run rs.status() several times before the nodes stabalize and the stateStr is set to SECONDARY on the 2 additional nodes
shard1:PRIMARY> rs.status()
{
	"set" : "shard1",
	"date" : ISODate("2013-08-14T21:50:25Z"),
	"myState" : 1,
	"members" : [
		{
			"_id" : 0,
			"name" : "Harrys-AIR.local:10011",
			"health" : 1,
			"state" : 1,
			"stateStr" : "PRIMARY",
			"uptime" : 884,
			"optime" : Timestamp(1376516995, 1),
			"optimeDate" : ISODate("2013-08-14T21:49:55Z"),
			"self" : true
		},
		{
			"_id" : 1,
			"name" : "m2.shard1.mongocluster:10012",
			"health" : 1,
			"state" : 2,
			"stateStr" : "SECONDARY",
			"uptime" : 37,
			"optime" : Timestamp(1376516995, 1),
			"optimeDate" : ISODate("2013-08-14T21:49:55Z"),
			"lastHeartbeat" : ISODate("2013-08-14T21:50:24Z"),
			"lastHeartbeatRecv" : ISODate("2013-08-14T21:50:25Z"),
			"pingMs" : 0,
			"syncingTo" : "Harrys-AIR.local:10011"
		},
		{
			"_id" : 2,
			"name" : "m3.shard1.mongocluster:10013",
			"health" : 1,
			"state" : 2,
			"stateStr" : "SECONDARY",
			"uptime" : 30,
			"optime" : Timestamp(1376516995, 1),
			"optimeDate" : ISODate("2013-08-14T21:49:55Z"),
			"lastHeartbeat" : ISODate("2013-08-14T21:50:23Z"),
			"lastHeartbeatRecv" : ISODate("2013-08-14T21:50:24Z"),
			"pingMs" : 0,
			"syncingTo" : "Harrys-AIR.local:10011"
		}
	],
	"ok" : 1
}

